/**
 * 設定站台別(my=馬來,cn=大陸)
 */
var settingSyscode = function () {
    window.localStorage['site'] = document.getElementById('site').value;
    $('body').addClass('site-' + window.localStorage['site']);
};


/**
 * 設定是否為行動裝置
 */
var settingMobileCheck = function () {
    var pgwBrowser = $.pgwBrowser();
    var isMobile = pgwBrowser.device.mobile ||
        pgwBrowser.os.name === 'iPad' ||
        pgwBrowser.os.name === 'Android'
    window.localStorage["mobile"] = isMobile;
    if (isMobile) {
        $('body').addClass('is-mobile');
    }
}


/**
 * 平滑移動到定位
 * @param hashId
 */
var scrollLink = function (hashId) {
    var dom = $('#' + hashId);
    if (dom.length > 0) {
        if ($('.navigation-mobile').hasClass('nav-open')) {
            $('.navigation-mobile-btn').trigger('click');
        }

        var navHeight = $('nav').height();
        $('html,body').animate({scrollTop: dom.offset().top - navHeight - 30});
    } else {
        location.href = './index.html?link=' + hashId;
    }

}


/**
 * 控制手機版漢堡開關
 */
var navigationControl = function () {
    $('.navigation-mobile-btn').on('click', function () {
        $('.bar').toggleClass('animate');
        $('.navigation-mobile').toggleClass('nav-open')
    })
}

var appInit = function () {
    settingSyscode();
    settingMobileCheck();
}


appInit();
